## æ­å–œé€šè¿‡æ¢ç´¢ç”µå½±æ•°æ®é›†! ğŸ‰ğŸ‰

ä»¥ä¸‹æ˜¯ä¸€äº›æ‹“å±•ä¸åˆ†äº«, å¸Œæœ›å¯¹ä½ æœ‰ç”¨

## *æ‹“å±•*

- å¯ä»¥åœ¨è¿™ä¸ªç®€å•çš„æ•™ç¨‹äº†è§£matplotlibçš„ä½œå›¾æœºåˆ¶ : https://www.jianshu.com/p/ec2dcd35d826
- åœ¨åˆé€‚çš„åœºæ™¯ä½¿ç”¨åˆé€‚çš„å¯è§†åŒ–æ‰‹æ®µ, å¯ä»¥çœ‹è¿™ä¸ª[æ•´ç†](https://datavizcatalogue.com/ZH/)
- ä¸€ä¸ªæ¯”è¾ƒbadassçš„å¯è§†åŒ–æ•´ç†[åšå®¢](https://towardsdatascience.com/the-art-of-effective-visualization-of-multi-dimensional-data-6c7202990c57)
- åˆä¸€ä¸ªæ¯”è¾ƒbadassçš„å¯è§†åŒ–çµæ„Ÿæœé›†[ç½‘ç«™](https://python-graph-gallery.com/radar-chart/)

## *åˆ†äº«ä¸€äº›æˆ‘çš„æ¢ç´¢*

### *è€ƒå¯Ÿä¸åŒå¹´ä»½ä¸­, ä¸åŒç”µå½±ç±»å‹çš„å‘è¡Œæƒ…å†µ.*

```
# æ‹†åˆ†ç”µå½±ç±»å‹
df_genres = df.drop('genres', axis=1).join(df['genres'].str.split('|', expand=True) \
                               .stack().reset_index(level=1, drop=True).rename('genres'))
fig, axes = plt.subplots(2, 1, figsize=(20, 10))

# ä¸ºäº†æ˜“äºè¾¨è®¤, åªå±•ç¤ºéƒ¨åˆ†ç”µå½±ç±»å‹
top5_genres = df_genres['genres'].value_counts().nlargest(5).index
btm5_genres = df_genres['genres'].value_counts().nsmallest(5).index

# ä½œå‡ºä¸­ä½æ•°å‚è€ƒçº¿
median_cir = df_genres.groupby('release_year')['genres'].value_counts().unstack().mean(axis=1)
median_cir.plot(ax=axes[0], ls='--', label='mean', legend=True)
median_cir.plot(ax=axes[1], ls='--', label='mean', legend=True)

# æŒ‰å¹´ä»½ä½œå›¾
vis_params = {'grid': True, 'marker': 'o', 'markersize': 2, 'linewidth': 1}
df_genres[df_genres['genres'].isin(top5_genres)] \
                 .groupby('release_year')['genres'].value_counts().unstack().fillna(0) \
                 .plot(ax=axes[0], title='circulation over years of top 5 genres', **vis_params)
df_genres[df_genres['genres'].isin(btm5_genres)] \
                 .groupby('release_year')['genres'].value_counts().unstack().fillna(0) \
                 .plot(ax=axes[1], title='circulation over years of bottom 5 genres', **vis_params)

plt.tight_layout()
```

[![download.png](assets/download.png)](https://udacity-reviews-uploads.s3.us-west-2.amazonaws.com/_attachments/42601/1525327301/download.png)

### *æŒ‰æ€»æ”¶ç›Šæ¥çœ‹, å“ªäº›æè¿°ç”µå½±çš„å…³é”®å­—å‡ºç°é¢‘ç‡æœ€å¤š*

```
import matplotlib.pyplot as plt
from wordcloud import WordCloud
%config InlineBackend.figure_format = 'retina'

# organize data
factor = 'revenue_adj'
data = pd.read_csv('tmdb-movies.csv')
kw_expand = data['keywords'].str.split('|', expand=True).stack().reset_index(level=1, drop=True).rename('keywords')
df_kw_rev = data[[factor]].join(kw_expand)
word_dict = df_kw_rev.groupby('keywords')[factor].sum().to_dict()

# create wordcloud
params = {'mode': 'RGBA', 
          'background_color': 'rgba(255, 255, 255, 0)', 
          'colormap': 'Spectral'}
wordcloud = WordCloud(width=1200, height=800, **params)
wordcloud.generate_from_frequencies(word_dict)

# plot
plt.figure(figsize=(15, 10))
plt.imshow(wordcloud, interpolation='bilinear')
plt.axis('off')
```

[![download (3).png](https://udacity-reviews-uploads.s3.us-west-2.amazonaws.com/_attachments/42601/1526185341/download__3_.png)](https://udacity-reviews-uploads.s3.us-west-2.amazonaws.com/_attachments/42601/1526185341/download__3_.png)

### æ•°æ®å¯¼å…¥ä¸å¤„ç†

å­¦ç”ŸæˆåŠŸå¯¼å…¥æ‰€éœ€è¦çš„åº“ï¼Œå¹¶é€šè¿‡`Pandas`è¯»å–tmdb-movies.csv ä¸­çš„æ•°æ®ã€‚

å­¦ç”ŸæˆåŠŸå®Œæˆ 5 ä¸ª tasksã€‚

å­¦å‘˜å¯¹æ•°æ®è¡¨ä¸­çš„ç©ºå€¼è¿›è¡Œäº†å¤„ç†ã€‚

### æ ¹æ®æŒ‡å®šè¦æ±‚è¯»å–æ•°æ®

å®Œæˆ3ä¸ªç®€å•è¯»å–çš„tasks

å­¦å‘˜å®Œæˆé€»è¾‘è¯»å–ä¸­çš„2ä¸ªä»»åŠ¡

å­¦å‘˜ä½¿ç”¨ Groupby å‘½ä»¤å®Œæˆ2ä¸ªåˆ†ç»„è¯»å–ä»»åŠ¡

### ç»˜å›¾ä¸å¯è§†åŒ–

å¯¹ popularity æœ€é«˜çš„20åç”µå½±ç»˜åˆ¶å…¶ popularity å€¼ã€‚

åˆ†æç”µå½±å‡€åˆ©æ¶¦ï¼ˆç¥¨æˆ¿-æˆæœ¬ï¼‰éšç€å¹´ä»½å˜åŒ–çš„æƒ…å†µï¼Œå¹¶ç®€å•è¿›è¡Œåˆ†æã€‚

å¾ˆå¥½! ä½ è¿˜å¯ä»¥ç”¨subplotsæ¥ç»„ç»‡meanä»¥åŠsum, ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ª[subplotsæ•™ç¨‹](https://www.jianshu.com/p/ec2dcd35d826)äº†è§£æ›´å¤š:

```
plt.style.use('ggplot')
_, axes = plt.subplots(2, 1, figsize=(10, 10))
movie_data['profit'] = movie_data['revenue'] - movie_data['budget']
target_data = movie_data.groupby('release_year')['profit'].agg(['mean', 'sum'])
axes[0].errorbar(target_data.index, target_data['mean']);
axes[1].errorbar(target_data.index, target_data['sum']);

axes[0].set_ylabel('profit_mean')
axes[1].set_ylabel('profit_sum')
axes[1].set_xlabel('release_year')
```

[![download.png](assets/download-1573118541182.png)](https://udacity-reviews-uploads.s3.us-west-2.amazonaws.com/_attachments/42601/1544001710/download.png)

é€‰æ‹©æœ€å¤šäº§çš„10ä½å¯¼æ¼”ï¼ˆç”µå½±æ•°é‡æœ€å¤šçš„ï¼‰ï¼Œç»˜åˆ¶ä»–ä»¬æ’è¡Œå‰3çš„ä¸‰éƒ¨ç”µå½±çš„ç¥¨æˆ¿æƒ…å†µï¼Œå¹¶ç®€è¦è¿›è¡Œåˆ†æã€‚

åˆ†æ1968å¹´~2015å¹´å…­æœˆç”µå½±çš„æ•°é‡çš„å˜åŒ–ã€‚

åˆ†æ1968å¹´~2015å¹´å…­æœˆç”µå½± Comedy å’Œ Drama ä¸¤ç±»ç”µå½±çš„æ•°é‡çš„å˜åŒ–ã€‚